
CREATE TABLE IF NOT EXISTS subject (
	id INTEGER PRIMARY KEY,
	name TEXT NOT NULL,
	included INTEGER DEFAULT 1,
	required INTEGER DEFAULT 1
);

CREATE TABLE IF NOT EXISTS class (
	id INTEGER PRIMARY KEY,
	subject_id INTEGER NOT NULL,
	FOREIGN KEY (subject_id) REFERENCES subject(id) ON UPDATE CASCADE ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS section (
	id INTEGER PRIMARY KEY,
	class_id INTEGER,
	day INTEGER NOT NULL,
	start INTEGER NOT NULL,
	duration INTEGER NOT NULL
	FOREIGN KEY (class_id) REFERENCES class(id) ON UPDATE CASCADE ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS timetable (
	id INTEGER PRIMARY KEY,
	name TEXT NOT NULL
);

CREATE TABLE IF NOT EXISTS schedule (
	id INTEGER PRIMARY KEY,
	class_id INTEGER,
	timetable_id INTEGER,
	FOREIGN KEY (class_id) REFERENCES class(id) ON UPDATE CASCADE ON DELETE CASCADE,
	FOREIGN KEY (timetable_id) REFERENCES timetable(id) ON UPDATE CASCADE ON DELETE CASCADE
);